<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradeHub</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #0a0a0f;
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .grid-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, #6366f1, transparent);
            animation: pulse 3s ease-in-out infinite;
        }

        .grid-line.horizontal {
            width: 100%;
            height: 1px;
            animation-delay: var(--delay);
        }

        .grid-line.vertical {
            height: 100%;
            width: 1px;
            animation-delay: var(--delay);
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.6; }
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: calc(1rem + env(safe-area-inset-top, 0px)) 0 1rem 0;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #6366f1, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .discord-btn {
            background: #5865F2;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .discord-btn:hover {
            background: #4752C4;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(88, 101, 242, 0.4);
        }

        /* Green Main button after login */
        .main-btn {
            background: #10b981; /* Tailwind green-500 */
            border: none;
            padding: 0.75rem 1.75rem;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .main-btn:hover {
            background: #059669; /* darker */
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 2rem;
            background: radial-gradient(ellipse at center, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
        }

        .hero-content h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 1.2rem;
            margin: 0 auto 2rem auto;
            opacity: 0.8;
            max-width: 600px;
            text-align: center;
        }

        /* Keep hero content centered with a comfortable line length */
        .hero-content { max-width: 720px; margin: 0 auto; }
        .hero .hero-content > div { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; }

        .hero-btn {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .hero-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4);
        }

        /* Features Section */
        .features {
            padding: 5rem 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, #ffffff, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            padding: 0 2rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
        }

        .feature-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .feature-card p {
            opacity: 0.8;
            line-height: 1.6;
        }

        /* Pricing Section */
        .pricing {
            padding: 5rem 0;
            background: rgba(99, 102, 241, 0.05);
        }

        .pricing-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            max-width: var(--pricing-width, 2400px);
            margin-left: auto;
            margin-right: auto;
        }

        .pricing-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .pricing-card.featured {
            border-color: #6366f1;
            transform: scale(1.05);
        }

        .pricing-card.featured::before {
            content: "The Choose For You";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #6366f1, #a855f7);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .pricing-card.featured:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .plan-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .plan-price {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .plan-duration {
            opacity: 0.7;
            margin-bottom: 2rem;
        }

        .plan-features {
            list-style: none;
            margin-bottom: 2rem;
        }

        .plan-features li {
            padding: 0.5rem 0;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .plan-features li i {
            color: #10b981;
            font-size: 0.9rem;
            margin-right: 10px;
            margin-top: 3px;
            flex-shrink: 0;
        }

        .plan-btn {
            width: 100%;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            border: none;
            padding: 1rem;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .plan-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
        }

        .plan-btn.outline {
            background: transparent;
            border: 2px solid #6366f1;
        }

        .plan-btn.outline:hover {
            background: #6366f1;
        }

        /* Footer */
        .footer {
            background: rgba(0, 0, 0, 0.3);
            padding: 3rem 0 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #6366f1;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: block;
            padding: 0.3rem 0;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: #6366f1;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(99, 102, 241, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: #6366f1;
            transform: translateY(-2px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
        }

        /* Fluid sizing + layout vars for better mobile experience */
        :root { --header-h: 72px; }

        /* Fluid typography without breaking desktop look */
        .logo { font-size: clamp(1.4rem, 4.8vw, 2rem); }
        .hero-content h1 { font-size: clamp(1.85rem, 6vw + 0.2rem, 4rem); }
        .hero-content p { font-size: clamp(0.95rem, 2.3vw, 1.2rem); }
        .hero .hero-btn { font-size: clamp(0.95rem, 2.5vw, 1.1rem); }

        /* Responsive Design */
        /* Small tablets/large phones: حافظ على تخطيط الديسكتوب */
        @media (max-width: 1024px) {
            .nav-container {
                padding: 0 1.25rem;
                flex-wrap: wrap;
                gap: 0.5rem 0.75rem;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                text-align: initial;
            }
            .nav-container > div { width: auto; display: flex; justify-content: flex-start; flex-wrap: wrap; gap: 0.5rem; }
            .logo { margin-top: 0; display: inline-block; text-align: initial; }
        }
        @media (max-width: 768px) {
            :root { --header-h: 88px; }
            .hero-content h1 {
                font-size: 2.5rem;
                line-height: 1.3;
            }
            
            .nav-container {
                padding: 0 1rem;
                flex-wrap: wrap;
                gap: 0.5rem 0.75rem;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                text-align: initial;
            }
            .nav-container > div { width: auto; display: flex; justify-content: flex-start; flex-wrap: wrap; gap: 0.5rem; }
            .logo { margin-top: 0; display: inline-block; text-align: initial; }
            
            .hero {
                /* Slightly less than full to reveal next section for better flow */
                min-height: calc(92svh - var(--header-h));
                padding: calc(var(--header-h) + 0.5rem) 1rem 1.25rem 1rem;
                display: flex;
                align-items: center;
                justify-content: center;
                text-align: center;
            }
            .hero-content { max-width: 560px; }
            .hero .hero-content > div { gap: 0.6rem; }
            
            .section-title {
                font-size: 2rem;
            }
            
            .pricing-card.featured {
                transform: none;
            }
            
            .pricing-card.featured:hover {
                transform: translateY(-10px);
            }
            /* Header buttons wrap nicely */
            .header .discord-btn, .header .main-btn {
                padding: 0.6rem 1rem;
                border-radius: 9999px;
                font-size: 0.95rem;
            }
            .user-menu { width: 100%; }
            .user-dropdown { right: 0; left: auto; min-width: 180px; }
            /* Hero buttons keep inline layout like desktop */
            .hero .hero-btn { width: auto; justify-content: center; max-width: none; }
            .hero-content { max-width: 100%; word-break: break-word; hyphens: auto; }
            /* Features grid spacing */
            .features-grid { grid-template-columns: 1fr; padding: 0; }
            .features { padding: 3rem 1rem; }
            /* Pricing grid single column */
            .pricing-grid { grid-template-columns: 1fr; gap: 1rem; }
            .pricing-container { padding: 0 1rem; }
            /* FAQ menu fits viewport */
            .faq-menu { min-width: 280px; max-width: 90vw; left: 50%; transform: translateX(-50%); }
            .dropdown-menu { max-height: 70vh; overflow-y: auto; }
        }

        @media (max-width: 480px) {
            .hero-content h1 { font-size: 1.85rem; letter-spacing: 0; }
            .hero-content p { font-size: 0.98rem; }
            .logo { font-size: 1.6rem; }
            .feature-card { padding: 1.1rem; }
            .pricing-card { padding: 1.25rem; }
            .plan-price { font-size: 2rem; }
            .plan-name { font-size: 1.1rem; }
            .discord-btn, .main-btn, .hero .hero-btn { font-size: 0.95rem; padding: 0.75rem 1rem; }
            .nav-container > div a.discord-btn { margin: 0 0.15rem; }
            /* Keep desktop-like buttons on very small screens */
            .hero .hero-btn { width: auto; max-width: none; justify-content: center; }
            .hero { min-height: calc(88svh - var(--header-h)); }
            .hero-content { max-width: 520px; }
        }

        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Utility */
        .hidden { display: none; }
        /* Prevent horizontal scroll in code area on mobile */
        .code-box { max-width: 100% !important; min-width: 0 !important; }
        /* Mobile + RTL logical helpers */
        img, video, canvas, svg { max-width: 100%; height: auto; }
        .note {
            color: #f59e0b;
            font-size: 0.9rem;
            margin: 1rem 0;
            padding: 0.75rem;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 8px;
            border-inline-start: 3px solid #f59e0b;
        }
        .note i { margin-inline-end: 0.5rem; }

        /* Fluid sizing system for mobile-first layout */
        :root {
            --fluid-space-1: clamp(0.5rem, 1.2vw + 0.3rem, 0.9rem);
            --fluid-space-2: clamp(0.75rem, 1.6vw + 0.5rem, 1.25rem);
            --fluid-space-3: clamp(1rem, 2vw + 0.5rem, 1.75rem);
            --fluid-text-sm: clamp(0.9rem, 0.4vw + 0.85rem, 1rem);
            --fluid-text-md: clamp(1rem, 1vw + 0.9rem, 1.125rem);
            --fluid-text-lg: clamp(1.125rem, 1.6vw + 1rem, 1.35rem);
            --fluid-title: clamp(1.8rem, 3.2vw + 1.2rem, 3.25rem);
            --container-inline: clamp(1rem, 4vw, 2rem);
        }

        body { line-height: 1.6; }

        /* Header/nav touch size & wrapping */
        .nav-container { padding-inline: var(--container-inline); gap: var(--fluid-space-1) var(--fluid-space-2); }
        .discord-btn, .main-btn { min-height: 44px; padding: 0.65rem 1.1rem; }
        .discord-btn i, .main-btn i { font-size: 1em; }

        /* Hero fluid typography and spacing */
        .hero { padding-inline: var(--container-inline); }
        .hero-content h1 { font-size: var(--fluid-title); letter-spacing: 0; }
        .hero-content p { font-size: var(--fluid-text-md); }
        .hero .hero-content > div { gap: var(--fluid-space-2); }
        .hero .hero-btn { font-size: var(--fluid-text-md); padding: 0.9rem 1.25rem; min-height: 44px; }

        /* Sections */
        .features { padding: 3.25rem var(--container-inline); }
        .section-title { font-size: clamp(1.6rem, 2.6vw + 1rem, 2.2rem); }
        .features-grid { gap: var(--fluid-space-3); padding: 0; }
        .feature-card { padding: 1.25rem; text-align: center; }

        /* Pricing & other grids */
        .pricing-grid { gap: var(--fluid-space-2); }
        .pricing-card { padding: 1.25rem; }
        .plan-price { font-size: clamp(1.6rem, 3vw + 1rem, 2.25rem); }

        /* Dropdown/menus usability on small screens */
        .dropdown-menu, .user-dropdown { max-width: 90vw; width: max-content; }
        .dropdown-menu { inset-inline-end: 0; inset-inline-start: auto; }

        /* Prevent horizontal leaks */
        .header, .hero, .features, .pricing-container, .faq, .footer, #mainSection { overflow-x: clip; }

        @media (max-width: 768px) {
            :root { --header-h: 80px; }
            .logo { font-size: clamp(1.4rem, 2.5vw + 1rem, 1.8rem); }
            .nav-container { flex-wrap: wrap; }
            .user-menu { width: 100%; }
            .hero { min-height: calc(92svh - var(--header-h)); padding-block: calc(var(--header-h) + 0.5rem) 1.25rem; }
            .hero-content { max-width: 640px; margin-inline: auto; }
            /* On tablets/phones, use single-column grids */
            .features-grid { grid-template-columns: 1fr; }
            .pricing-grid { grid-template-columns: 1fr; }
            .faq-menu { min-width: 300px; width: 92vw; max-width: 92vw; padding: 1rem; }
            .faq-content h4 { font-size: 1.25rem; }
            .faq-content h5 { font-size: 1.05rem; }
            .faq-content h6 { font-size: 0.95rem; }
            .faq-content p { font-size: 0.98rem; }
        }

        @media (max-width: 480px) {
            .discord-btn, .main-btn, .hero .hero-btn { padding: 0.75rem 1rem; font-size: var(--fluid-text-sm); }
            .feature-card { padding: 1rem; }
            .pricing-card { padding: 1rem; }
            .hero-content { max-width: 520px; }
        }

        /* Main interface container */
        #mainSection {
            padding: 4rem 2rem;
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 16px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #334155;
        }

        .modal-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #e2e8f0;
            margin: 0;
        }

        .close-btn {
            font-size: 2rem;
            color: #94a3b8;
            cursor: pointer;
            transition: color 0.3s ease;
            line-height: 1;
        }

        .close-btn:hover {
            color: #ef4444;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #e2e8f0;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #334155;
            border-radius: 8px;
            background: #0f172a;
            color: #e2e8f0;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-group input::placeholder {
            color: #64748b;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .submit-btn {
            flex: 1;
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-2px);
        }

        .cancel-btn {
            flex: 1;
            background: transparent;
            border: 1px solid #334155;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            color: #e2e8f0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cancel-btn:hover {
            background: #334155;
            border-color: #475569;
        }

        /* Purchase Instructions Modal Styles */
        .instructions-content {
            padding: 1rem 0;
        }

        .instruction-step {
            margin-bottom: 2rem;
        }

        .instruction-step h4 {
            color: #e2e8f0;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .map-info {
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .map-info h5 {
            color: #6366f1;
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .map-link {
            color: #6366f1;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            word-break: break-all;
            transition: color 0.3s ease;
        }

        .map-link:hover {
            color: #a855f7;
        }

        .subscription-info {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .subscription-info p {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .subscription-details {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid #334155;
            border-radius: 6px;
            padding: 0.75rem;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .auto-premium-note {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05));
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .auto-premium-note i {
            color: #f59e0b;
            font-size: 1.2rem;
        }

        .auto-premium-note p {
            color: #fbbf24;
            margin: 0;
            font-weight: 600;
        }

        .instructions-actions {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
        }



        /* User Menu Styles */
        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-menu .main-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .user-menu .main-btn i:last-child {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .user-menu:hover .main-btn i:last-child {
            transform: rotate(180deg);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            min-width: 200px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(10px);
            margin-top: 0.5rem;
        }

        .user-menu:hover .user-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-dropdown a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-dropdown a:last-child {
            border-bottom: none;
        }

        .user-dropdown a:hover {
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }

        .user-dropdown a i {
            font-size: 1rem;
            width: 20px;
            text-align: center;
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: block;
            padding: 0.3rem 0;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .dropdown-toggle:hover {
            color: #6366f1;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            min-width: 200px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dropdown-menu a:last-child {
            border-bottom: none;
        }

        .dropdown-menu a:hover {
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }

        .dropdown-menu a i {
            font-size: 1rem;
            width: 20px;
            text-align: center;
        }

        /* FAQ Menu Styles */
        .faq-menu {
            min-width: 480px;
            max-width: 800px;
            width: clamp(360px, 70vw, 720px);
            max-height: 80vh;
            overflow-y: auto;
            padding: 1.25rem 1.5rem;
        }

        .faq-content {
            color: #e2e8f0;
            word-break: break-word;
            hyphens: auto;
        }

        .faq-content h4 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #6366f1;
            text-align: center;
        }

        .faq-content h5 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem 0;
            color: #fbbf24;
        }

        .faq-content h6 {
            font-size: 1rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            color: #10b981;
        }

        .faq-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .faq-content ul {
            margin: 1rem 0;
            padding-inline-start: 1.25rem;
        }

        .faq-content li {
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }

        .purchase-steps {
            margin: 1.5rem 0;
        }

        .step {
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(99, 102, 241, 0.05);
            border-radius: 8px;
            border-left: 3px solid #6366f1;
        }

        .important-list, .activation-list, .ban-list {
            list-style: none;
            padding-left: 0;
        }

        .important-list li, .activation-list li, .ban-list li {
            margin-bottom: 0.75rem;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border-left: 3px solid #f59e0b;
        }

        .activation-list li {
            border-left-color: #10b981;
        }

        .ban-list li {
            border-left-color: #ef4444;
        }

        .discord-link {
            color: #6366f1;
            text-decoration: none;
            font-weight: 600;
            word-break: break-all;
        }

        .discord-link:hover {
            color: #a855f7;
            text-decoration: underline;
        }

        .faq-questions {
            margin-top: 1.5rem;
        }

        .faq-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #6366f1;
        }

        .faq-item h6 {
            color: #6366f1;
            margin-bottom: 0.5rem;
        }

        .faq-item p {
            margin: 0;
            color: #94a3b8;
        }

        /* RTL Support for Arabic */
        [dir="rtl"] .dropdown-menu {
            left: auto;
            right: 0;
        }

        [dir="rtl"] .user-dropdown {
            left: auto;
            right: 0;
        }

        [dir="rtl"] .faq-content ul {
            padding-left: 0;
            padding-right: 1.5rem;
        }

        [dir="rtl"] .step {
            border-left: none;
            border-right: 3px solid #6366f1;
        }

        [dir="rtl"] .important-list li, 
        [dir="rtl"] .activation-list li, 
        [dir="rtl"] .ban-list li {
            border-left: none;
            border-right: 3px solid #f59e0b;
        }

        [dir="rtl"] .activation-list li {
            border-right-color: #10b981;
        }

        [dir="rtl"] .ban-list li {
            border-right-color: #ef4444;
        }

        [dir="rtl"] .faq-item {
            border-left: none;
            border-right: 3px solid #6366f1;
        }

        /* Responsive Design for FAQ */
        @media (max-width: 768px) {
            .faq-menu {
                min-width: 300px;
                max-width: 90vw;
                left: 50%;
                transform: translateX(-50%);
            }
            
            .faq-content h4 {
                font-size: 1.3rem;
            }
            
            .faq-content h5 {
                font-size: 1.1rem;
            }
            
            .faq-content h6 {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation" id="bgAnimation"></div>

    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <div style="display: flex; gap: 0.5rem; align-items: center;">
                <a href="auth.html" class="discord-btn" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i>
                    تسجيل الدخول
                </a>
                <a href="auth.html" class="discord-btn" id="registerBtn" style="background: #10b981;">
                    <i class="fas fa-user-plus"></i>
                    إنشاء حساب
                </a>
                <a href="market.html" class="main-btn" id="goMarketBtn" style="display:none;background:#10b981;">
                    <i class="fas fa-store"></i>
                    الانتقال إلى المتجر
                </a>
                

            </div>
            <a href="#" class="logo">TradeHub</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 data-translate="hero-title">مرحباً بك في TradeHub - اشتر أي شيء تريده أو بع ما لديك</h1>
            <p data-translate="hero-subtitle">موقع الاكثر قوة وسهولة في الاستخدام سجل دخول الان او انشئ حسابا جديدا للبدء </p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="auth.html" class="hero-btn" id="loginBtnHero">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>تسجيل الدخول</span>
                </a>
                <a href="auth.html" class="hero-btn" id="registerBtnHero" style="background: linear-gradient(135deg, #10b981, #059669);">
                    <i class="fas fa-user-plus"></i>
                    <span>إنشاء حساب</span>
                </a>
                <a href="market.html" class="hero-btn" id="goMarketBtnHero" style="display:none;background: linear-gradient(135deg, #10b981, #059669);">
                    <i class="fas fa-store"></i>
                    <span>الانتقال إلى المتجر</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features fade-in">
        <h2 class="section-title" data-translate="features-title">لماذا تختار TradeHub؟</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-map"></i>
                </div>
                <h3>تقدر تشتري اللي تبغاه من المتوفر بالمتجر</h3>
                <p>متجر شامل يحتوي على آلاف المنتجات الرقمية والألعاب والعناصر المطلوبة.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h3>تقدر تبيع أشياء في أغلب الألعاب</h3>
                <p>موقع يمديك منه تشتري اي شيء تبيه ممن المتوفر او تبيع اي شي تبيه</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <h3>كل شيء تبيه احتمال تلاقيه</h3>
                <p>مجموعة ضخمة ومتنوعة من المنتجات والخدمات الرقمية لتلبية جميع احتياجاتك.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <h3>الموقع جديد — نسخة تجريبية</h3>
                <p>نحن في مرحلة التطوير والتجريب، انضم إلينا واكتشف الميزات الجديدة أولاً بأول.</p>
            </div>
        </div>
    </section>


    

    <!-- Purchase Form Modal -->
    <div id="purchaseModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Purchase Premium Plan</h3>
                <span class="close-btn" id="closeModal">&times;</span>
            </div>
            <form id="purchaseForm">
                <div class="form-group">
                    <label for="discordId">Discord ID</label>
                    <input type="text" id="discordId" name="discordId" required placeholder="Enter your Discord ID">
                </div>
                <div class="form-group">
                    <label for="discordUsername">Discord Username</label>
                    <input type="text" id="discordUsername" name="discordUsername" required placeholder="Enter your Discord username">
                </div>
                <div class="form-group">
                    <label for="robloxUsername">Roblox Username</label>
                    <input type="text" id="robloxUsername" name="robloxUsername" required placeholder="Enter your Roblox username">
                </div>
                <div class="form-group">
                    <label for="robloxId">Roblox ID</label>
                    <input type="text" id="robloxId" name="robloxId" required placeholder="Enter your Roblox ID">
                </div>
                <div class="form-note">
                    <p class="note">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Important:</strong> Please double-check all information before completing your purchase. Make sure all fields are filled correctly.
                    </p>
                </div>
                <div class="form-actions">
                    <button type="submit" class="submit-btn">Complete Purchase</button>
                    <button type="button" class="cancel-btn" id="cancelPurchase">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Purchase Instructions Modal -->
    <div id="purchaseInstructionsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="instructionsTitle">Purchase Instructions</h3>
                <span class="close-btn" id="closeInstructionsModal">&times;</span>
            </div>
            <div class="instructions-content">
                <div class="instruction-step">
                    <h4 data-translate="enter-map">Enter the following map:</h4>
                    <div class="map-info">
                        <h5 data-translate="map-name">SyRax Checker</h5>
                        <a href="https://www.roblox.com/games/116198030967891/SyRax-Checker" target="_blank" class="map-link">
                            <i class="fas fa-external-link-alt"></i>
                            https://www.roblox.com/games/116198030967891/SyRax-Checker
                        </a>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <h4 data-translate="purchase-subscription">To purchase your subscription:</h4>
                    <div class="subscription-info">
                        <p data-translate="write-subscription">Write here the subscription you want:</p>
                        <div class="subscription-details" id="subscriptionDetails">
                            <!-- Will be filled dynamically -->
                        </div>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="auto-premium-note">
                        <i class="fas fa-crown"></i>
                        <p data-translate="auto-premium">When you purchase, you will automatically be given premium access.</p>
                    </div>
                </div>
                
                <div class="instructions-actions">
                    <button type="button" class="cancel-btn" id="cancelInstructions">Cancel</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-translate="quick-links">الروابط السريعة</h3>
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle" data-translate="support">الدعم</a>
                        <div class="dropdown-menu">
                            <a href="https://discord.gg/kzZp65p9DX" target="_blank" class="discord-support">
                                <i class="fab fa-discord"></i>
                                <span data-translate="discord-support">الدعم عبر  سيرفرنا الديسكورد الرسمي</span>
                            </a>
                            <a href="https://discord.gg/kzZp65p9DX" target="_blank" class="discord-server">
                                <i class="fas fa-server"></i>
                                <span data-translate="discord-server">تواصل معنا</span>
                            </a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle" data-translate="faq">الأسئلة الشائعة</a>
                        <div class="dropdown-menu faq-menu">
                            <div class="faq-content">
                                <h4>📜 تعليمات استخدام TradeHub</h4>
                                
                                <h5>🧠 ما هو TradeHub؟</h5>
                                <p>TradeHub هو موقع رقمي قوي وسهل الاستخدام. يتيح لك شراء وبيع المنتجات الرقمية والألعاب والعناصر المختلفة بسهولة .</p>
                                
                                <h5>🛒 كيفية البدء في TradeHub:</h5>
                                <div class="purchase-steps">
                                    <div class="step">
                                        <h6>1️⃣ أنشئ حساباً</h6>
                                        <p>قم بإنشاء حساب جديد في TradeHub باستخدام بريدك الإلكتروني.</p>
                                    </div>
                                    
                                    <div class="step">
                                        <h6>2️⃣ ابدأ بالشراء او البيع</h6>
                                        <p>يمكنك الآن شراء أو بيع المنتجات الرقمية والألعاب:</p>
                                        <ul>
                                            <li>اشتر أي منتج تريده من المتجر</li>
                                            <li>بع العناصر والألعاب التي تملكها</li>
                                            <li>استكشف مجموعة متنوعة من المنتجات</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="step">
                                        <h6>3️⃣ استمتع بالتجربة</h6>
                                        <p>TradeHub لا يوفر لك تجربة أمنة مئة بالمئة جميع المنتجات تحت مسؤولية البائع </p>
                                    </div>
                                    
                                    <div class="step">
                                        <h6>4️⃣ احصل على الدعم</h6>
                                        <p>تواصل معنا للحصول على المساعدة والدعم في أي وقت.</p>
                                    </div>
                                </div>
                                
                                <h5>🧾 ملاحظات مهمة:</h5>
                                <ul class="important-list">
                                    <li>⚠️ تأكد من صحة المعلومات المدخلة عند إنشاء الحساب.</li>
                                    <li>🔁 يمكنك تعديل معلومات حسابك في أي وقت.</li>
                                    <li>✅ تأكد من قراءة شروط الاستخدام قبل البدء.</li>
                                    <li>🕒 يمكنك البدء في الشراء والبيع فورا بعد انشاء الحساب</li>
                                    <li>🔐 نحن لا نطلب كلمات مرور أو معلومات حساسة - احذر من المزيفين.</li>
                                </ul>
                                
                                <h5>🤖 الأمان والحماية:</h5>
                                <p>TradeHub يحاول حمايتك بأقدر قدر الامكان ولكن لا يمكننا التأكد من صحة المنتجات جميعهما لأن ليس نحن من يعرض المنتجات بل البائعين عند رؤيتك لأي بائع كاذب نصاب يمكنك البلاغ عليه مع الادلة وسوف يتم حظر حسابه</p>
                                <p>تحيات أدارة TradeHub</p>
                                
                                <h5>✅ بعد إنشاء الحساب:</h5>
                                <ul class="activation-list">
                                    <li>ابدأ في استكشاف المنتجات المتاحة في المتجر.</li>
                                    <li>يمكنك شراء أو بيع العناصر فوراً.</li>
                                    <li>تواصل معنا في حالة وجود أي مشاكل أو استفسارات.</li>
                                </ul>
                                
                                <h5>🆘 تحتاج مساعدة؟</h5>
                                <p>تواصل معنا للحصول على الدعم والمساعدة:</p>
                                <p>يمكنك مراسلتنا عبر سيرفرنا الديسكورد الرسمي .</p>
                                
                                <h5>❌ قواعد الاستخدام:</h5>
                                <p>يرجى الالتزام بالقواعد التالية:</p>
                                <ul class="ban-list">
                                    <li>استخدم معلومات صحيحة عند إنشاء الحساب</li>
                                    <li>لا تحاول اختراق أو تلاعب في النظام</li>
                                    <li>احترم حقوق الآخرين وملكيتهم الفكرية</li>
                                    <li>لا تستخدم أدوات أو برامج غير مصرح بها</li>
                                </ul>
                                
                                <h5>💬 الأسئلة الشائعة:</h5>
                                <div class="faq-questions">
                                    <div class="faq-item">
                                        <h6>س: هل يمكنني استخدام الموقع بدون حساب؟</h6>
                                        <p>ج: لا, لا يمكنك تصفح المنتجات او الشراء او البيع،  تحتاج حساب للشراء والبيع.</p>
                                    </div>
                                    <div class="faq-item">
                                        <h6>س: هل يمكنني مشاركة حسابي؟</h6>
                                        <p>ج: لا. كل حساب مخصص لشخص واحد فقط.</p>
                                    </div>
                                    <div class="faq-item">
                                        <h6>س: متى يمكنني البدء في البيع او الشراء</h6>
                                        <p>ج: يمكنك البدء فور إنشاء الحساب وتأكيده.</p>
                                    </div>
                                    <div class="faq-item">
                                        <h6>س: هل يمكنني تعديل معلومات حسابي؟</h6>
                                        <p>ج: نعم، يمكنك تعديل معلوماتك من إعدادات الحساب.</p>
                                    </div>
                                    <div class="faq-item">
                                        <h6>س: هل المعاملات آمنة؟</h6>
                                        <p>ج: لا, يوجد معاملات نصب وكذب من البائعين و TradeHub يحاول بأكبر قدر تصفيتهم.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="#" data-translate="updates">التحديثات</a>
                    <a href="#" data-translate="terms">شروط الخدمة</a>
                    <a href="#" data-translate="privacy">سياسة الخصوصية</a>
                </div>
                <div class="footer-section">
                    <h3 data-translate="follow-us">تابعنا</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-translate="copyright">&copy;  2025 TradeHub. جميع الحقوق محفوظة. لـ  .</p>
            </div>
        </div>
    </footer>

    <script>
        // Animated background generation
        function createAnimatedBackground() {
            const container = document.getElementById('bgAnimation');
            const gridSize = 50;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            // Create horizontal lines
            for (let i = 0; i < windowHeight; i += gridSize) {
                const line = document.createElement('div');
                line.className = 'grid-line horizontal';
                line.style.top = i + 'px';
                line.style.setProperty('--delay', Math.random() * 3 + 's');
                container.appendChild(line);
            }

            // Create vertical lines
            for (let i = 0; i < windowWidth; i += gridSize) {
                const line = document.createElement('div');
                line.className = 'grid-line vertical';
                line.style.left = i + 'px';
                line.style.setProperty('--delay', Math.random() * 3 + 's');
                container.appendChild(line);
            }
        }

        // Scroll animations
        function handleScrollAnimations() {
            const elements = document.querySelectorAll('.fade-in');
            const windowHeight = window.innerHeight;

            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < windowHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
        }

        // Header scroll effect
        function handleHeaderScroll() {
            const header = document.querySelector('.header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(10, 10, 15, 0.95)';
            } else {
                header.style.background = 'rgba(10, 10, 15, 0.8)';
            }
        }

        // Smooth scrolling for anchor links
        function handleSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const hrefAttr = this.getAttribute('href');
                    if (hrefAttr === '#' || hrefAttr === '' || hrefAttr === 'javascript:void(0)') return;
                    const target = document.querySelector(hrefAttr);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Discord login integration
        function handleDiscordLogin() {
            const OAUTH_URL = 'https://discord.com/oauth2/authorize?client_id=1399974884464918528&response_type=code&redirect_uri=http%3A%2F%2F127.0.0.1%3A3000%2Fsa.html%23&scope=identify';

            const loginButtons = document.querySelectorAll('#discordLogin, #discordLoginHero');
            const mainBtn = document.getElementById('mainBtn');

            // OAuth redirect handler
            function loginRedirectHandler(e) {
                e.preventDefault();
                window.location.href = OAUTH_URL;
            }

            function showMain() { /* removed mainSection UI */ }

            // Helper when login succeeds (OAuth redirect or stored state)
            function onLoginSuccess() {
                // Show main button and hide Discord button
                if (mainBtn) {
                    mainBtn.style.display = 'flex';
                }
                // Hide Discord buttons
                loginButtons.forEach(btn => {
                    btn.style.display = 'none';
                });
                localStorage.setItem('discord_logged_in', '1');
            }

            // Detect OAuth redirect or previous session
            if (window.location.search.includes('code=')) {
                onLoginSuccess();
                // Clean URL (remove ?code parameter)
                window.history.replaceState({}, document.title, window.location.pathname);
            } else if (localStorage.getItem('discord_logged_in') === '1') {
                // Already logged in
                if (mainBtn) {
                    mainBtn.style.display = 'flex';
                }
                // Hide Discord buttons
                loginButtons.forEach(btn => {
                    btn.style.display = 'none';
                });
            }

            // Attach OAuth handler to Discord buttons
            loginButtons.forEach(btn => {
                btn.addEventListener('click', loginRedirectHandler);
            });

            // Attach click handler to Main button
            if (mainBtn) { mainBtn.addEventListener('click', showMain); }
        }

        // Plan purchase simulation
        function handlePlanPurchase() {
            // Handle main page plan buttons
            document.querySelectorAll('.plan-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const planName = this.closest('.pricing-card').querySelector('.plan-name').textContent;
                    
                    // Check if it's the Basic plan
                    if (planName === 'Basic' || planName === 'أساسي') {
                        // Check if user is logged in with Discord
                        const isLoggedIn = localStorage.getItem('discord_logged_in') === '1';
                        
                        if (isLoggedIn) {
                            // Show success notification for Basic plan
                            showNotification('You are registered with Basic plan!', 'success');
                        } else {
                            // Show login required notification
                            showNotification('Please login with Discord first!', 'warning');
                        }
                    } else {
                        // For premium plans, show purchase form
                        showPurchaseForm(planName);
                    }
                });
            });

            // Handle main section plan buttons
            document.querySelectorAll('.main-basic-btn').forEach(btn => { btn.remove(); });

            // Handle main section premium buttons
            document.querySelectorAll('.main-premium-btn').forEach(btn => { btn.remove(); });
        }

        // Purchase form functionality
        function showPurchaseForm(planName) {
            console.log('showPurchaseForm called with planName:', planName);
            
            // Disable translation when showing purchase form
            const translateElements = document.querySelectorAll('[data-translate]');
            translateElements.forEach(el => {
                el.setAttribute('data-no-translate', 'true');
            });
            
            // Store plan name in modal dataset
            const purchaseModal = document.getElementById('purchaseModal');
            if (purchaseModal) {
                purchaseModal.dataset.planName = planName;
                purchaseModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function hidePurchaseForm() {
            // Re-enable translation when hiding purchase form
            const noTranslateElements = document.querySelectorAll('[data-no-translate]');
            noTranslateElements.forEach(el => {
                el.removeAttribute('data-no-translate');
            });
            
            const purchaseModal = document.getElementById('purchaseModal');
            if (purchaseModal) {
                purchaseModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }
        
        // Purchase instructions functionality
        function showPurchaseInstructions(planName) {
            console.log('showPurchaseInstructions called with planName:', planName);
            
            // Check if user is logged in with Discord
            const isLoggedIn = localStorage.getItem('discord_logged_in') === '1';
            
            if (!isLoggedIn) {
                // Show login required notification
                showNotification('Please login with Discord first to purchase premium plans!', 'warning');
                return;
            }
            
            const modal = document.getElementById('purchaseInstructionsModal');
            const instructionsTitle = document.getElementById('instructionsTitle');
            const subscriptionDetails = document.getElementById('subscriptionDetails');
            
            if (!modal || !instructionsTitle || !subscriptionDetails) {
                console.error('Required elements not found in the DOM');
                return;
            }
            
            try {
                // Update title safely
                if (translations[currentLanguage] && translations[currentLanguage]['purchase-instructions']) {
                    instructionsTitle.textContent = translations[currentLanguage]['purchase-instructions'];
                } else {
                    instructionsTitle.textContent = 'Purchase Instructions';
                }
                
                // Update subscription details based on plan
                let subscriptionText = '';
                if (planName && typeof planName === 'string') {
                    if (planName.includes('10 Days') || planName.includes('10 أيام') || planName.includes('Premium 10 Days') || planName.includes('مميز 10 أيام')) {
                        subscriptionText = 'Premium 10 Days - 250R$';
                    } else if (planName.includes('1 Month') || planName.includes('شهر واحد') || planName.includes('Premium 1 Month') || planName.includes('مميز شهر واحد')) {
                        subscriptionText = 'Premium 1 Month - 400R$';
                    } else {
                        subscriptionText = planName;
                    }
                } else {
                    subscriptionText = 'Premium Plan';
                }
                
                subscriptionDetails.textContent = subscriptionText;
                console.log('Plan Name:', planName);
                console.log('Subscription Text:', subscriptionText);
                
                // Show modal
                modal.style.display = 'flex';
            } catch (error) {
                console.error('Error showing purchase instructions:', error);
                showNotification('An error occurred while loading purchase instructions.', 'error');
            }
        }

        function hidePurchaseInstructions() {
            const modal = document.getElementById('purchaseInstructionsModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function handlePurchaseForm() {
            const modal = document.getElementById('purchaseModal');
            const form = document.getElementById('purchaseForm');
            const closeBtn = document.getElementById('closeModal');
            const cancelBtn = document.getElementById('cancelPurchase');

            // Close modal when clicking close button
            closeBtn.addEventListener('click', hidePurchaseForm);

            // Close modal when clicking cancel button
            cancelBtn.addEventListener('click', hidePurchaseForm);

            // Close modal when clicking outside
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    hidePurchaseForm();
                }
            });

            // Handle purchase instructions modal
            const instructionsModal = document.getElementById('purchaseInstructionsModal');
            const closeInstructionsBtn = document.getElementById('closeInstructionsModal');
            const cancelInstructionsBtn = document.getElementById('cancelInstructions');

            // Remove existing event listeners to avoid duplicates
            if (closeInstructionsBtn) {
                closeInstructionsBtn.removeEventListener('click', hidePurchaseInstructions);
                closeInstructionsBtn.addEventListener('click', hidePurchaseInstructions);
            }

            if (cancelInstructionsBtn) {
                cancelInstructionsBtn.removeEventListener('click', hidePurchaseInstructions);
                cancelInstructionsBtn.addEventListener('click', hidePurchaseInstructions);
            }

            // Close instructions modal when clicking outside
            if (instructionsModal) {
                instructionsModal.removeEventListener('click', function(e) {
                    if (e.target === instructionsModal) {
                        hidePurchaseInstructions();
                    }
                });
                instructionsModal.addEventListener('click', function(e) {
                    if (e.target === instructionsModal) {
                        hidePurchaseInstructions();
                    }
                });
            }

            // Handle form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(form);
                const planName = modal.dataset.planName;
                
                // Get form values
                const discordId = formData.get('discordId').trim();
                const discordUsername = formData.get('discordUsername').trim();
                const robloxUsername = formData.get('robloxUsername').trim();
                const robloxId = formData.get('robloxId').trim();
                
                // Validate all fields are filled
                if (!discordId || !discordUsername || !robloxUsername || !robloxId) {
                    showNotification('Please fill in all fields!', 'error');
                    return;
                }
                
                // Validate Roblox Username length (max 23 characters)
                if (robloxUsername.length > 23) {
                    showNotification('Roblox Username cannot be longer than 23 characters!', 'error');
                    return;
                }
                
                // Validate Roblox Username format (alphanumeric and underscores only)
                const robloxUsernameRegex = /^[a-zA-Z0-9_]+$/;
                if (!robloxUsernameRegex.test(robloxUsername)) {
                    showNotification('Roblox Username can only contain letters, numbers, and underscores!', 'error');
                    return;
                }
                
                // Validate Discord ID format (should be numeric)
                const discordIdRegex = /^\d+$/;
                if (!discordIdRegex.test(discordId)) {
                    showNotification('Discord ID should contain only numbers!', 'error');
                    return;
                }
                
                // Validate Roblox ID format (should be numeric)
                if (!discordIdRegex.test(robloxId)) {
                    showNotification('Roblox ID should contain only numbers!', 'error');
                    return;
                }
                
                // Show purchase instructions modal
                showPurchaseInstructions(planName);
                
                // Hide form modal
                hidePurchaseForm();
                
                // Here you would typically send the data to your server
                console.log('Purchase Data:', {
                    planName,
                    discordId,
                    discordUsername,
                    robloxUsername,
                    robloxId
                });
            });
        }

        // Notification system
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 20px;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                max-width: 300px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                backdrop-filter: blur(10px);
            `;
            
            // Set background color based on type
            switch(type) {
                case 'success':
                    notification.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                    break;
                case 'warning':
                    notification.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
                    break;
                default:
                    notification.style.background = 'linear-gradient(135deg, #6366f1, #4f46e5)';
            }
            
            notification.textContent = message;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Auto remove after 4 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(-100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Download script functionality
        function handleScriptDownload() {
            const downloadBtn = document.getElementById('downloadLua');
            const copyBtn = document.getElementById('copyLua');
            
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function() {
                    const scriptCode = 'loadstring("ddasds43t#$")';
                    
                    // Create a blob with the script content
                    const blob = new Blob([scriptCode], { type: 'text/plain' });
                    
                    // Create download link
                    const downloadLink = document.createElement('a');
                    downloadLink.href = URL.createObjectURL(blob);
                    downloadLink.download = 'SyRax_Script.lua';
                    
                    // Trigger download
                    document.body.appendChild(downloadLink);
                    downloadLink.click();
                    document.body.removeChild(downloadLink);
                    
                    // Clean up the URL object
                    URL.revokeObjectURL(downloadLink.href);
                    
                    // Change button text temporarily to show success
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Downloaded!';
                    this.style.background = '#10b981';
                    
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.style.background = '#6366f1';
                    }, 2000);
                });
            }
            
            if (copyBtn) {
                copyBtn.addEventListener('click', function() {
                    const scriptCode = 'loadstring("ddasds43t#$")';
                    navigator.clipboard.writeText(scriptCode).then(function() {
                        // Change button text temporarily
                        const originalText = this.innerHTML;
                        this.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        this.style.background = '#4752C4';
                        
                        setTimeout(() => {
                            this.innerHTML = originalText;
                            this.style.background = '#6366f1';
                        }, 2000);
                    }.bind(this)).catch(function(err) {
                        console.error('Could not copy text: ', err);
                        alert('Script copied to clipboard!');
                    });
                });
            }
        }

        // Language translations
        const translations = {
            en: {
                // Hero Section
                'hero-title': 'مرحباً بك في TradeHub - اشتر أي شيء تريده أو بع ما لديك',
                'hero-subtitle': 'موقع الاكثر قوة وسهولة في الاستخدام سجل دخول الان او انشئ حسابا جديدا للبدء ',
                'login-discord': 'Login with Discord',
                
                // Features Section
                'features-title': 'لماذا تختار TradeHub؟',
                'multi-map': 'تقدر تشتري اللي تبغاه من المتوفر بالمتجر',
                'multi-map-desc': 'متجر شامل يحتوي على آلاف المنتجات الرقمية والألعاب والعناصر المطلوبة.',
                'fast-updates': 'تقدر تبيع أشياء في أغلب الألعاب',
                'fast-updates-desc': 'منصة  متكاملة تتيح لك بيع العناصر والألعاب والمحتويات الرقمية بسهولة .',
                'clean-interface': 'كل شيء تبيه احتمال تلاقيه',
                'clean-interface-desc': 'مجموعة ضخمة ومتنوعة من المنتجات والخدمات الرقمية لتلبية جميع احتياجاتك.',
                'vip-support': 'الموقع جديد — نسخة تجريبية',
                'vip-support-desc': 'نحن في مرحلة التطوير والتجريب، انضم إلينا واكتشف الميزات الجديدة أولاً بأول.',
                
                // Pricing Section
                'pricing-title': 'Choose Your Plan',
                'basic': 'Basic',
                'free': 'Free',
                'forever': 'Forever',
                'basic-script': 'Basic Script Access',
                'limited-maps': 'Limited Maps',
                'community-support': 'Community Support',
                'basic-updates': 'Basic Updates',
                'get-started': 'Get Started',
                'buy-now': 'Buy Now',
                'premium-10': 'Premium 10 Days',
                'premium-month': 'Premium 1 Month',
                'robux-note': 'Note: R$ means Robux',
                'days-access': 'Days Access',
                'month-access': 'Days Access',
                'priority': 'You are our priority',
                'suggest-response': 'Mostly when you suggest a map you will get a response',
                'exclusive-options': 'Access to exclusive options inside the scripts',
                'more-maps': 'Access to more maps',
                'better-performance': 'Better and higher performance and efficiency',
                'discord-role': 'A Role on the Discord server',
                
                // Main Section
                'lua-script': 'SyRax Lua Script',
                'download': 'Download',
                'copy': 'Copy',
                'join-discord': 'Join our Discord Server',
                
                // Form
                'discord-id': 'Discord ID',
                'discord-username': 'Discord Username',
                'roblox-username': 'Roblox Username',
                'roblox-id': 'Roblox ID',
                'complete-purchase': 'Complete Purchase',
                'cancel': 'Cancel',
                'purchase-plan': 'Purchase',
                'important-note': 'Important: Please double-check all information before completing your purchase. Make sure all fields are filled correctly.',
                
                // Purchase Instructions
                'purchase-instructions': 'Purchase Instructions',
                'enter-map': 'Enter the following map:',
                'map-name': 'SyRax Checker',
                'purchase-subscription': 'To purchase your subscription:',
                'write-subscription': 'Write here the subscription you want:',
                'subscription-10-days': 'Premium 10 Days - 250R$',
                'subscription-1-month': 'Premium 1 Month - 400R$',
                'auto-premium': 'When you purchase, you will automatically be given premium access.',
                
                // Notifications
                'basic-registered': 'You are registered with Basic plan!',
                'login-required': 'Please login with Discord first!',
                'login-required-purchase': 'Please login with Discord first to purchase premium plans!',
                'fill-all-fields': 'Please fill in all fields!',
                'roblox-username-long': 'Roblox Username cannot be longer than 23 characters!',
                'roblox-username-format': 'Roblox Username can only contain letters, numbers, and underscores!',
                'discord-id-numbers': 'Discord ID should contain only numbers!',
                'roblox-id-numbers': 'Roblox ID should contain only numbers!',
                'purchase-submitted': 'Purchase request submitted for',
                'contact-soon': 'We will contact you soon.',
                
                // Footer
                'quick-links': 'Quick Links',
                'support': 'Support',
                'faq': 'FAQ',
                'updates': 'Updates',
                'terms': 'Terms of Service',
                'privacy': 'Privacy Policy',
                'follow-us': 'Follow Us',
                'copyright': ' 2025 TradeHub.  الحقوق محفوظة. لـ  .',
                
                // New Dropdown Items
                'discord-support': 'Support via Discord Server',
                'discord-server': 'Discord Server',
                
                // FAQ Content
                'syntax-instructions': '📜 SyRax Usage Instructions',
                'what-is-syrax': '🧠 What is SyRax?',
                'syrax-description': 'SyRax is a powerful and user-friendly multi-game script for Roblox. It includes unique features for different maps, automatic account verification, and a modern interface for smooth access and control.',
                'how-to-purchase': '🛒 How to Purchase a Subscription:',
                'step-1': '1️⃣ Choose Your Plan',
                'step-1-desc': 'Go to the Subscription page and select your preferred plan:',
                'plan-10-days': '🕐 Premium 10 Days',
                'plan-1-month': '📅 Premium 1 Month',
                'step-2': '2️⃣ Fill In Your Information',
                'step-2-desc': 'Before completing the purchase, enter the following details:',
                'discord-id-info': 'Discord ID (e.g. 114352142355112345)',
                'discord-username-info': 'Discord Username (e.g. 1.2ny)',
                'roblox-username-info': 'Roblox Username (e.g. SyRax245s3)',
                'roblox-id-info': 'Roblox Id (e.g, 5020875892)',
                'step-3': '3️⃣ Join the Verification Map',
                'step-3-desc': 'After submitting your info, you\'ll receive a link to the SyRax Verification Map in Roblox.',
                'step-3-desc-2': 'Enter the game; the system will match your details with what you submitted on the website.',
                'step-4': '4️⃣ Complete Purchase',
                'step-4-desc': 'If your identity is confirmed, your subscription will activate immediately.',
                'step-4-desc-2': 'A message will appear inside the game confirming the activation.',
                'important-notes': '🧾 Important Notes:',
                'note-1': '⚠️ Do not use modified Roblox clients or injectors. Violations will lead to bans.',
                'note-2': '🔁 You can transfer your subscription to another Roblox account, but only once every 36 hours.',
                'note-3': '✅ Make sure your info is correct before purchase. Refunds are not possible.',
                'note-4': '🕒 Activation starts from the moment of purchase, not from the time of verification.',
                'note-5': '🔐 We never ask for sensitive data like passwords or tokens – beware of fakes.',
                'auto-verification': '🤖 Auto Verification:',
                'auto-verification-desc': 'The verification map communicates directly with the website to confirm your identity.',
                'auto-verification-desc-2': 'No need to contact support unless there\'s a special case.',
                'after-activation': '✅ After Activation:',
                'activation-1': 'Launch the official SyRax script in your game.',
                'activation-2': 'Premium features will be unlocked automatically.',
                'activation-3': 'If any issue occurs, use the Re-verify button on the site.',
                'need-help': '🆘 Need Help?',
                'need-help-desc': 'Join our official Discord server:',
                'discord-link': 'https://discord.gg/kzZp65p9DX',
                'need-help-desc-2': 'Open a ticket for support or questions.',
                'ban-reasons': '❌ Ban Reasons:',
                'ban-reasons-desc': 'You may be banned from the site and the script if:',
                'ban-1': 'You use fake or incorrect data',
                'ban-2': 'You try to bypass the verification system',
                'ban-3': 'You buy/sell subscriptions from outside sources',
                'ban-4': 'You use unofficial scripts or exploit tools',
                'faq-title': '💬 Frequently Asked Questions (FAQ):',
                'faq-q1': 'Q: Can I use the script without a subscription?',
                'faq-a1': 'A: Yes, but only with limited features.',
                'faq-q2': 'Q: Can I share my subscription?',
                'faq-a2': 'A: No. Each subscription is linked to one Roblox account.',
                'faq-q3': 'Q: When does activation begin?',
                'faq-a3': 'A: Immediately after purchase.',
                'faq-q4': 'Q: Can I change the linked Roblox account?',
                'faq-a4': 'A: Yes, once every 36 hours.',
                'faq-q5': 'Q: What happens if I enter the wrong info during purchase?',
                'faq-a5': 'A: You will not receive access, and refunds are not available – double-check everything before confirming.'
            },
            ar: {
                // Hero Section
                'hero-title': 'مرحباً بك في TradeHub - اشتر أي شيء تريده أو بع ما لديك',
                'hero-subtitle': 'موقع الاكثر قوة وسهولة في الاستخدام سجل دخول الان او انشئ حسابا جديدا للبدء ',
                'login-discord': 'سجل دخول عبر الديسكورد',
                
                // Features Section
                'features-title': 'لماذا تختار TradeHub؟',
                'multi-map': 'تقدر تشتري اللي تبغاه من المتوفر بالمتجر',
                'multi-map-desc': 'متجر شامل يحتوي على آلاف المنتجات الرقمية والألعاب والعناصر المطلوبة.',
                'fast-updates': 'تقدر تبيع أشياء في أغلب الألعاب',
                'fast-updates-desc': 'منصة داول متكاملة تتيح لك بيع العناصر والألعاب والمحتويات الرقمية بسهولة .',
                'clean-interface': 'كل شيء تبيه احتمال تلاقيه',
                'clean-interface-desc': 'مجموعة ضخمة ومتنوعة من المنتجات والخدمات الرقمية لتلبية جميع احتياجاتك.',
                'vip-support': 'الموقع جديد — نسخة تجريبية',
                'vip-support-desc': 'نحن في مرحلة التطوير والتجريب، انضم إلينا واكتشف الميزات الجديدة أولاً بأول.',
                
                // Pricing Section
                'pricing-title': 'اختر خطتك',
                'basic': 'أساسي',
                'free': 'مجاني',
                'forever': 'للأبد',
                'basic-script': 'الوصول الأساسي للسكريبت',
                'limited-maps': 'خرائط محدودة',
                'community-support': 'دعم المجتمع',
                'basic-updates': 'تحديثات أساسية',
                'get-started': 'ابدأ الآن',
                'buy-now': 'اشتر الآن',
                'premium-10': 'مميز 10 أيام',
                'premium-month': 'مميز شهر واحد',
                'robux-note': 'ملاحظة: ر$ تعني روبكس',
                'days-access': 'أيام الوصول',
                'month-access': 'أيام الوصول',
                'priority': 'أنت أولويتنا',
                'suggest-response': 'في الغالب عندما تقترح خريطة ستحصل على رد',
                'exclusive-options': 'الوصول إلى خيارات حصرية داخل السكريبتات',
                'more-maps': 'الوصول إلى خرائط أكثر',
                'better-performance': 'أداء وكفاءة أفضل وأعلى',
                'discord-role': 'دور في سيرفر الديسكورد',
                
                // Main Section
                'lua-script': 'سكريبت لوا سيراكس',
                'download': 'تحميل',
                'copy': 'نسخ',
                'join-discord': 'انضم إلى سيرفر الديسكورد',
                
                // Form
                'discord-id': 'معرف الديسكورد',
                'discord-username': 'اسم المستخدم في الديسكورد',
                'roblox-username': 'اسم المستخدم في روبلوكس',
                'roblox-id': 'معرف روبلوكس',
                'complete-purchase': 'إكمال الشراء',
                'cancel': 'إلغاء',
                'purchase-plan': 'شراء',
                'important-note': 'مهم: يرجى التحقق من جميع المعلومات قبل إكمال عملية الشراء. تأكد من ملء جميع الحقول بشكل صحيح.',
                
                // Purchase Instructions
                'purchase-instructions': 'تعليمات الشراء',
                'enter-map': 'ادخل الماب التالي:',
                'map-name': 'SyRax Checker',
                'purchase-subscription': 'لشراء اشتراكك:',
                'write-subscription': 'اكتب هنا الاشتراك الي تبغاه:',
                'subscription-10-days': 'Premium 10 Days - 250R$',
                'subscription-1-month': 'Premium 1 Month - 400R$',
                'auto-premium': 'عند شرائك تلقائيا سوف يتم اعطائك ال permium',
                
                // Notifications
                'basic-registered': 'أنت مسجل بالخطة الأساسية!',
                'login-required': 'يرجى تسجيل الدخول عبر الديسكورد أولاً!',
                'login-required-purchase': 'يرجى تسجيل الدخول عبر الديسكورد أولاً لشراء الخطط المميزة!',
                'fill-all-fields': 'يرجى ملء جميع الحقول!',
                'roblox-username-long': 'اسم المستخدم في روبلوكس لا يمكن أن يكون أكثر من 23 حرفاً!',
                'roblox-username-format': 'اسم المستخدم في روبلوكس يمكن أن يحتوي على أحرف وأرقام وشرطة سفلية فقط!',
                'discord-id-numbers': 'معرف الديسكورد يجب أن يحتوي على أرقام فقط!',
                'roblox-id-numbers': 'معرف روبلوكس يجب أن يحتوي على أرقام فقط!',
                'purchase-submitted': 'تم إرسال طلب الشراء لـ',
                'contact-soon': 'سنتواصل معك قريباً.',
                
                // Footer
                'quick-links': 'روابط سريعة',
                'support': 'الدعم',
                'faq': 'الأسئلة الشائعة',
                'updates': 'التحديثات',
                'terms': 'شروط الخدمة',
                'privacy': 'سياسة الخصوصية',
                'follow-us': 'تابعنا',
                'copyright': ' 2025 سيراكس. جميع الحقوق محفوظة. مملوك من قبل Anonymous/1.2ny. صنع بـ  لمجتمع روبلوكس.',
                
                // New Dropdown Items
                'discord-support': 'الدعم خلال سيرفر الديسكورد',
                'discord-server': 'سيرفر الديسكورد',
                
                // FAQ Content
                'syntax-instructions': '📜 تعليمات استخدام سيراكس',
                'what-is-syrax': '🧠 ما هو سيراكس؟',
                'syrax-description': 'سيراكس هو سكريبت قوي وسهل الاستخدام متعدد الألعاب لروبلوكس. يتضمن ميزات فريدة لخرائط مختلفة، التحقق التلقائي من الحساب، وواجهة حديثة للوصول والتحكم السلس.',
                'how-to-purchase': '🛒 كيفية شراء الاشتراك:',
                'step-1': '1️⃣ اختر خطتك',
                'step-1-desc': 'اذهب إلى صفحة الاشتراك واختر خطتك المفضلة:',
                'plan-10-days': '🕐 مميز 10 أيام',
                'plan-1-month': '📅 مميز شهر واحد',
                'step-2': '2️⃣ املأ معلوماتك',
                'step-2-desc': 'قبل إكمال الشراء، أدخل التفاصيل التالية:',
                'discord-id-info': 'معرف الديسكورد (مثال: 114352142355112345)',
                'discord-username-info': 'اسم المستخدم في الديسكورد (مثال: 1.2ny)',
                'roblox-username-info': 'اسم المستخدم في روبلوكس (مثال: SyRax245s3)',
                'roblox-id-info': 'معرف روبلوكس (مثال: 5020875892)',
                'step-3': '3️⃣ انضم إلى خريطة التحقق',
                'step-3-desc': 'بعد إرسال معلوماتك، ستتلقى رابط لخريطة التحقق من سيراكس في روبلوكس.',
                'step-3-desc-2': 'ادخل اللعبة؛ سيطابق النظام تفاصيلك مع ما أرسلته في الموقع.',
                'step-4': '4️⃣ أكمل الشراء',
                'step-4-desc': 'إذا تم تأكيد هويتك، سيتم تفعيل اشتراكك فوراً.',
                'step-4-desc-2': 'ستظهر رسالة داخل اللعبة تؤكد التفعيل.',
                'important-notes': '🧾 ملاحظات مهمة:',
                'note-1': '⚠️ لا تستخدم عملاء روبلوكس معدلة أو محقنات. المخالفات ستؤدي إلى الحظر.',
                'note-2': '🔁 يمكنك نقل اشتراكك إلى حساب روبلوكس آخر، ولكن مرة واحدة فقط كل 36 ساعة.',
                'note-3': '✅ تأكد من صحة معلوماتك قبل الشراء. لا يمكن استرداد الأموال.',
                'note-4': '🕒 يبدأ التفعيل من لحظة الشراء، وليس من وقت التحقق.',
                'note-5': '🔐 نحن لا نطلب أبداً بيانات حساسة مثل كلمات المرور أو الرموز المميزة – احذر من المزيفين.',
                'auto-verification': '🤖 التحقق التلقائي:',
                'auto-verification-desc': 'تتواصل خريطة التحقق مباشرة مع الموقع لتأكيد هويتك.',
                'auto-verification-desc-2': 'لا حاجة للتواصل مع الدعم إلا في حالة خاصة.',
                'after-activation': '✅ بعد التفعيل:',
                'activation-1': 'شغل سكريبت سيراكس الرسمي في لعبتك.',
                'activation-2': 'ستتم إلغاء قفل الميزات المميزة تلقائياً.',
                'activation-3': 'إذا حدث أي مشكلة، استخدم زر إعادة التحقق في الموقع.',
                'need-help': '🆘 تحتاج مساعدة؟',
                'need-help-desc': 'انضم إلى سيرفر الديسكورد الرسمي:',
                'discord-link': 'https://discord.gg/kzZp65p9DX',
                'need-help-desc-2': 'افتح تذكرة للدعم أو الأسئلة.',
                'ban-reasons': '❌ أسباب الحظر:',
                'ban-reasons-desc': 'قد يتم حظرك من الموقع والسكريبت إذا:',
                'ban-1': 'استخدمت بيانات مزيفة أو غير صحيحة',
                'ban-2': 'حاولت تجاوز نظام التحقق',
                'ban-3': 'اشتريت/بعت اشتراكات من مصادر خارجية',
                'ban-4': 'استخدمت سكريبتات غير رسمية أو أدوات استغلال',
                'faq-title': '💬 الأسئلة الشائعة (FAQ):',
                'faq-q1': 'س: هل يمكنني استخدام السكريبت بدون اشتراك؟',
                'faq-a1': 'ج: نعم، ولكن بميزات محدودة فقط.',
                'faq-q2': 'س: هل يمكنني مشاركة اشتراكي؟',
                'faq-a2': 'ج: لا. كل اشتراك مرتبط بحساب روبلوكس واحد.',
                'faq-q3': 'س: متى يبدأ التفعيل؟',
                'faq-a3': 'ج: فوراً بعد الشراء.',
                'faq-q4': 'س: هل يمكنني تغيير حساب روبلوكس المرتبط؟',
                'faq-a4': 'ج: نعم، مرة واحدة كل 36 ساعة.',
                'faq-q5': 'س: ماذا يحدث إذا أدخلت معلومات خاطئة أثناء الشراء؟',
                'faq-a5': 'ج: لن تحصل على الوصول، ولا يمكن استرداد الأموال – تحقق من كل شيء قبل التأكيد.'
            }
        };

        // Language management
        let currentLanguage = 'en';

        function changeLanguage(lang) {
            currentLanguage = lang;
            const elements = document.querySelectorAll('[data-translate]');
            
            elements.forEach(element => {
                // Skip elements that have data-no-translate attribute
                if (element.hasAttribute('data-no-translate')) {
                    return;
                }
                
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update form labels and placeholders
            const formLabels = {
                'discordId': 'discord-id',
                'discordUsername': 'discord-username',
                'robloxUsername': 'roblox-username',
                'robloxId': 'roblox-id'
            };

            Object.keys(formLabels).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    const label = element.previousElementSibling;
                    if (label && label.tagName === 'LABEL') {
                        label.textContent = translations[lang][formLabels[id]];
                    }
                    element.placeholder = translations[lang][formLabels[id]];
                }
            });

            // Update form buttons
            const submitBtn = document.querySelector('.submit-btn');
            const cancelBtn = document.querySelector('.cancel-btn');
            if (submitBtn) submitBtn.textContent = translations[lang]['complete-purchase'];
            if (cancelBtn) cancelBtn.textContent = translations[lang]['cancel'];

            // Update form note
            const formNote = document.querySelector('.form-note p');
            if (formNote) {
                formNote.innerHTML = `<i class="fas fa-exclamation-triangle" style="margin-right: 0.5rem;"></i><strong>${translations[lang]['important-note'].split(':')[0]}:</strong> ${translations[lang]['important-note'].split(':')[1]}`;
            }

            // Update modal title
            const modalTitle = document.getElementById('modalTitle');
            if (modalTitle) {
                const planName = modalTitle.textContent.replace('Purchase ', '');
                modalTitle.textContent = `${translations[lang]['purchase-plan']} ${planName}`;
            }

            // Update instructions modal elements
            const instructionsTitle = document.getElementById('instructionsTitle');
            const enterMapText = document.querySelector('[data-translate="enter-map"]');
            const mapNameText = document.querySelector('[data-translate="map-name"]');
            const purchaseSubscriptionText = document.querySelector('[data-translate="purchase-subscription"]');
            const writeSubscriptionText = document.querySelector('[data-translate="write-subscription"]');
            const autoPremiumText = document.querySelector('[data-translate="auto-premium"]');
            const cancelInstructionsBtn = document.getElementById('cancelInstructions');

            if (instructionsTitle) instructionsTitle.textContent = translations[lang]['purchase-instructions'];
            if (enterMapText) enterMapText.textContent = translations[lang]['enter-map'];
            if (mapNameText) mapNameText.textContent = translations[lang]['map-name'];
            if (purchaseSubscriptionText) purchaseSubscriptionText.textContent = translations[lang]['purchase-subscription'];
            if (writeSubscriptionText) writeSubscriptionText.textContent = translations[lang]['write-subscription'];
            if (autoPremiumText) autoPremiumText.textContent = translations[lang]['auto-premium'];
            if (cancelInstructionsBtn) cancelInstructionsBtn.textContent = translations[lang]['cancel'];

            // Update hero content
            const heroTitle = document.querySelector('.hero-content h1');
            const heroSubtitle = document.querySelector('.hero-content p');
            const heroBtn = document.querySelector('#discordLoginHero');
            
            if (heroTitle) heroTitle.textContent = translations[lang]['hero-title'];
            if (heroSubtitle) heroSubtitle.textContent = translations[lang]['hero-subtitle'];
            if (heroBtn) heroBtn.innerHTML = `<i class="fab fa-discord"></i> ${translations[lang]['login-discord']}`;

            // Update features
            const featuresTitle = document.querySelector('.features .section-title');
            if (featuresTitle) featuresTitle.textContent = translations[lang]['features-title'];

            // Update pricing title
            const pricingTitle = document.querySelector('.pricing .section-title');
            if (pricingTitle) pricingTitle.textContent = translations[lang]['pricing-title'];

            // Update main section
            const mainTitle = document.querySelector('#mainSection h2');
            const downloadBtn = document.getElementById('downloadLua');
            const copyBtn = document.getElementById('copyLua');
            const joinDiscordBtn = document.querySelector('.discord-section .discord-btn');
            
            if (mainTitle) mainTitle.textContent = translations[lang]['lua-script'];
            if (downloadBtn) downloadBtn.innerHTML = `<i class="fas fa-download"></i> ${translations[lang]['download']}`;
            if (copyBtn) copyBtn.innerHTML = `<i class="fas fa-copy"></i> ${translations[lang]['copy']}`;
            if (joinDiscordBtn) joinDiscordBtn.innerHTML = `<i class="fab fa-discord"></i> ${translations[lang]['join-discord']}`;

            // Update notification messages
            window.translations = translations[lang];

            // Update dropdown content
            const dropdownItems = document.querySelectorAll('.dropdown-menu a span');
            dropdownItems.forEach(item => {
                const key = item.getAttribute('data-translate');
                if (key && translations[lang][key]) {
                    item.textContent = translations[lang][key];
                }
            });

            // Update FAQ content
            const faqElements = document.querySelectorAll('.faq-content [data-translate]');
            faqElements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (key && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
        }

        // Check authentication status (server session)
        async function checkAuthStatus() {
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const loginBtnHero = document.getElementById('loginBtnHero');
            const registerBtnHero = document.getElementById('registerBtnHero');
            const goMarketBtn = document.getElementById('goMarketBtn');
            const goMarketBtnHero = document.getElementById('goMarketBtnHero');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            let isLoggedIn = false;
            try {
                const res = await fetch('/api/me', { cache: 'no-store' });
                if (res.ok) {
                    const data = await res.json();
                    isLoggedIn = !!(data && data.ok);
                }
            } catch (_) {}

            if (isLoggedIn) {
                // User is logged in
                // Hide login/register buttons
                if (loginBtn) loginBtn.style.display = 'none';
                if (registerBtn) registerBtn.style.display = 'none';
                if (loginBtnHero) loginBtnHero.style.display = 'none';
                if (registerBtnHero) registerBtnHero.style.display = 'none';
                if (goMarketBtn) goMarketBtn.style.display = 'inline-flex';
                if (goMarketBtnHero) goMarketBtnHero.style.display = 'inline-flex';
                
                // user menu removed
            } else {
                // User is not logged in
                if (loginBtn) loginBtn.style.display = 'flex';
                if (registerBtn) registerBtn.style.display = 'flex';
                if (loginBtnHero) loginBtnHero.style.display = 'flex';
                if (registerBtnHero) registerBtnHero.style.display = 'flex';
                // user menu removed
            }
        }

        // Logout function (server session)
        async function logout() {
            try { await fetch('/api/logout', { method: 'POST' }); } catch(_) {}
            checkAuthStatus();
            showNotification('تم تسجيل الخروج بنجاح', 'success');
        }

        // Handle user menu interactions
        function handleUserMenu() {
            const logoutLink = document.getElementById('logoutLink');
            const profileLink = document.getElementById('profileLink');
            const settingsLink = document.getElementById('settingsLink');
            
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    logout();
                });
            }
            
            if (profileLink) {
                profileLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    showNotification('قريباً: صفحة الملف الشخصي', 'info');
                });
            }
            
            if (settingsLink) {
                settingsLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    showNotification('قريباً: صفحة الإعدادات', 'info');
                });
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            createAnimatedBackground();
            handleSmoothScroll();
            handleDiscordLogin();
            handlePlanPurchase();
            handlePurchaseForm();
            handleScriptDownload();
            handleScrollAnimations();
            handleUserMenu();
            checkAuthStatus();
            // removed logoutBtn binding (button deleted)
            // If redirected from market without login, show notice
            try {
                const params = new URLSearchParams(location.search);
                if (params.get('login_required') === '1') {
                    const note = document.createElement('div');
                    note.style.cssText = 'position:fixed;top:16px;left:16px;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;padding:.75rem 1rem;border-radius:10px;z-index:10000;box-shadow:0 6px 18px rgba(0,0,0,.25);font-weight:700;';
                    note.textContent = 'يجب تسجيل الدخول للوصول إلى المتجر';
                    document.body.appendChild(note);
                    setTimeout(()=>{ if(note.parentNode){ note.parentNode.removeChild(note); } }, 3000);
                    // Clean query
                    history.replaceState({}, document.title, location.pathname);
                }
            } catch(_){}
            // Mobile-friendly dropdown toggles
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dd => {
                const toggle = dd.querySelector('.dropdown-toggle');
                const menu = dd.querySelector('.dropdown-menu');
                if (toggle && menu) {
                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        const isOpen = menu.style.visibility === 'visible' || menu.classList.contains('open');
                        document.querySelectorAll('.dropdown-menu').forEach(m => { m.style.visibility = 'hidden'; m.style.opacity = '0'; m.classList.remove('open'); m.style.transform = 'translateY(-10px)'; });
                        if (!isOpen) {
                            menu.style.visibility = 'visible';
                            menu.style.opacity = '1';
                            menu.style.transform = 'translateY(0)';
                            menu.classList.add('open');
                        }
                    });
                }
            });
            document.addEventListener('click', function(e){
                if (!e.target.closest('.dropdown')) {
                    document.querySelectorAll('.dropdown-menu').forEach(m => { m.style.visibility = 'hidden'; m.style.opacity = '0'; m.classList.remove('open'); m.style.transform = 'translateY(-10px)'; });
                }
            });
            
            
            // Add scroll event listeners
            window.addEventListener('scroll', function() {
                handleScrollAnimations();
                handleHeaderScroll();
            });

            // Handle window resize for background
            window.addEventListener('resize', function() {
                document.getElementById('bgAnimation').innerHTML = '';
                createAnimatedBackground();
            });
        });

        // Add floating particles effect
        function createFloatingParticles() {
            const particleCount = 50;
            const container = document.body;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: fixed;
                    width: 2px;
                    height: 2px;
                    background: rgba(99, 102, 241, 0.5);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: -1;
                    animation: float ${5 + Math.random() * 5}s linear infinite;
                    left: ${Math.random() * 100}vw;
                    animation-delay: ${Math.random() * 5}s;
                `;
                container.appendChild(particle);
            }

            // Add floating animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    from {
                        transform: translateY(100vh) rotate(0deg);
                        opacity: 0;
                    }
                    10% {
                        opacity: 1;
                    }
                    90% {
                        opacity: 1;
                    }
                    to {
                        transform: translateY(-100px) rotate(360deg);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
        }

        // Initialize particles after a short delay
        setTimeout(createFloatingParticles, 1000);

        // User Profile Management
        function updateUserProfile(user) {
            if (!user) return;
            
            // Update main header profile
            const userProfile = document.getElementById('userProfile');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            
            // Update main section profile
            const mainUserProfile = document.getElementById('mainUserProfile');
            const mainUserAvatar = document.getElementById('mainUserAvatar');
            const mainUserName = document.getElementById('mainUserName');
            
            // Set avatar
            const avatarUrl = user.avatar 
                ? `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=64`
                : `https://cdn.discordapp.com/embed/avatars/${user.discriminator % 5}.png`;
            
            // Update both profile instances
            [userAvatar, mainUserAvatar].forEach(el => el.src = avatarUrl);
            [userName, mainUserName].forEach(el => el.textContent = user.username);
            [userProfile, mainUserProfile].forEach(el => el.style.display = 'flex');
        }

        // Initialize user profile if already logged in
        document.addEventListener('DOMContentLoaded', function() {
            const userData = JSON.parse(localStorage.getItem('discordUser'));
            if (userData) updateUserProfile(userData);
        });
    </script>
</body>
</html>